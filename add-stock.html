<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="">
<meta name="author" content="">
<link rel="shortcut icon" href="assets/img/logo-fav.png">
<title>Josya poultry software</title>
<link rel="stylesheet" type="text/css"
	href="assets/lib/perfect-scrollbar/css/perfect-scrollbar.min.css" />
<link rel="stylesheet" type="text/css"
	href="assets/lib/material-design-icons/css/material-design-iconic-font.min.css" />
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<link rel="stylesheet" type="text/css"
	href="assets/lib/datetimepicker/css/bootstrap-datetimepicker.min.css" />
<link rel="stylesheet" type="text/css"
	href="assets/lib/select2/css/select2.min.css" />
<link rel="stylesheet" type="text/css"
	href="assets/lib/bootstrap-slider/css/bootstrap-slider.css" />
<link rel="stylesheet" href="assets/css/style.css" type="text/css" />
</head>
<body>
	<div class="be-wrapper">
		<nav class="navbar navbar-default navbar-fixed-top be-top-header">
			<div class="container-fluid">
				<div class="navbar-header">
					<a href="index.html" class="navbar-brand"></a>
				</div>
				<div class="be-right-navbar">
					<div class="page-title">
						<span>Add Stock</span>
					</div>
					<ul class="nav navbar-nav navbar-right be-icons-nav">
						<li class="dropdown"><a href="#" data-toggle="dropdown"
							role="button" aria-expanded="false" class="dropdown-toggle"><span
								class="icon mdi mdi-apps"></span></a>
							<ul class="dropdown-menu be-connections">
								<li>
									<div class="list">
										<div class="content">
											<div class="row">
												<div class="col-xs-4">
													<a href="#" class="connection-item"><img
														src="assets/img/github.png" alt="Github"><span>GitHub</span></a>
												</div>
												<div class="col-xs-4">
													<a href="#" class="connection-item"><img
														src="assets/img/bitbucket.png" alt="Bitbucket"><span>Bitbucket</span></a>
												</div>
												<div class="col-xs-4">
													<a href="#" class="connection-item"><img
														src="assets/img/slack.png" alt="Slack"><span>Slack</span></a>
												</div>
											</div>
											<div class="row">
												<div class="col-xs-4">
													<a href="#" class="connection-item"><img
														src="assets/img/dribbble.png" alt="Dribbble"><span>Dribbble</span></a>
												</div>
												<div class="col-xs-4">
													<a href="#" class="connection-item"><img
														src="assets/img/mail_chimp.png" alt="Mail Chimp"><span>Mail
															Chimp</span></a>
												</div>
												<div class="col-xs-4">
													<a href="#" class="connection-item"><img
														src="assets/img/dropbox.png" alt="Dropbox"><span>Dropbox</span></a>
												</div>
											</div>
										</div>
									</div>
									<div class="footer">
										<a href="#">More</a>
									</div>
								</li>
							</ul></li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="be-left-sidebar">
			<div class="left-sidebar-wrapper">
				<a href="#" class="left-sidebar-toggle">Stock</a>
				<div class="left-sidebar-spacer">
					<div class="left-sidebar-scroll">
						<div class="left-sidebar-content">
							<ul class="sidebar-elements">
								<li class="divider">Menu</li>
								<li><a href="index.html"><i class="icon mdi mdi-home"></i><span>Dashboard</span></a>
								</li>
								<li class="parent"><a href="#"><i
										class="icon mdi mdi-face"></i><span>Stock</span></a>
									<ul class="sub-menu">
										<li><a href="add-stock.html">Add stock</a></li>
										<li><a href="stock-list.html">Stock List</a></li>
									</ul></li>
								<li class="parent"><a href="#"><i
										class="icon mdi mdi-face"></i><span>Product</span></a>
									<ul class="sub-menu">
										<li><a href="add-product.html">Add Product</a></li>
										<li><a href="product-list.html">Product List</a></li>
									</ul></li>
								<li class="parent"><a href="#"><i
										class="icon mdi mdi-face"></i><span>Vendor</span></a>
									<ul class="sub-menu">
										<li><a href="add-vendor.html">Add Vendor</a></li>
										<li><a href="vendor-list.html">Vendor List</a></li>
									</ul></li>
								<li class="parent"><a href="#"><i
										class="icon mdi mdi-face"></i><span>Customer</span></a>
									<ul class="sub-menu">
										<li><a href="add-customer.html">Add Customer</a></li>
										<li><a href="customer-list.html">Customer List</a></li>
									</ul></li>
								<li class="parent"><a href="#"><i
										class="icon mdi mdi-face"></i><span>Category</span></a>
									<ul class="sub-menu">
										<li><a href="add-category.html">Add Category</a></li>
										<li><a href="category-list.html">Category List</a></li>
									</ul></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="be-content">
			<div class="page-head">
				<h2 class="page-head-title">Stock Details</h2>
				<ol class="breadcrumb page-head-nav">
					<li><a href="index.html">Home</a></li>
					<li><a href="#">Stock</a></li>
					<li class="active">Add stock</li>
				</ol>
			</div>
			<div class="main-content container-fluid">
				<!--Basic forms-->
				<div class="row">
					<div class="col-sm-6">
						<div
							class="panel panel-default panel-border-color panel-border-color-primary">
							<div class="panel-heading panel-heading-divider">
								Stock Details<span class="panel-subtitle">Stock details
									need to be added here</span>
							</div>
							<div class="panel-body">
								<form action="#" data-parsley-validate="" novalidate=""
									id="addStock">
									<div class="form-group" id="success-message"></div>
									<div class="form-group">
										<label>Representative name</label> <input type="text"
											name="representativeName" parsley-trigger="change"
											required="" placeholder="Enter representative name"
											autocomplete="off" class="form-control">
									</div>
									<div class="form-group">
										<label>Quantity</label> <input data-parsley-type="number"
											type="text" name="quantity" parsley-trigger="change"
											required="" placeholder="Enter quantity" autocomplete="off"
											class="form-control">
									</div>
									<div class="form-group">
										<label>No of birds</label> <input data-parsley-type="number"
											type="text" name="noOfBirds" parsley-trigger="change"
											required="" placeholder="Enter number of birds"
											autocomplete="off" class="form-control">
									</div>
									<div class="form-group">
										<label> Stock Date </label>
										<div data-min-view="2" data-date-format="yyyy-mm-dd"
											class="input-group date datetimepicker">
											<input size="16" type="text" value="" name="stockInputDate"
												class="form-control"><span
												class="input-group-addon btn btn-primary"><i
												class="icon-th mdi mdi-calendar"></i></span>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">Select product</label>
										<div>
											<select class="select2" name="product">
												<optgroup label="Select product" id="addProduct">
												</optgroup>
											</select>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">Select Vendor</label>
										<div>
											<select class="select2" name="vendor">
												<optgroup label="Select vendor" id="addVendor">
												</optgroup>
											</select>
										</div>
									</div>
									<div class="form-group">
										<div class="col-xs-6">
											<p class="text-right">
												<button type="submit" class="btn btn-space btn-primary">Submit</button>
												<button class="btn btn-space btn-default">Cancel</button>
											</p>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="assets/lib/jquery/jquery.min.js" type="text/javascript"></script>
	<script
		src="assets/lib/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js"
		type="text/javascript"></script>
	<script src="assets/js/main.js" type="text/javascript"></script>
	<script src="assets/lib/bootstrap/dist/js/bootstrap.min.js"
		type="text/javascript"></script>
	<script src="assets/lib/jquery-ui/jquery-ui.min.js"
		type="text/javascript"></script>
	<script src="assets/lib/jquery.nestable/jquery.nestable.js"
		type="text/javascript"></script>
	<script src="assets/lib/moment.js/min/moment.min.js"
		type="text/javascript"></script>
	<script
		src="assets/lib/datetimepicker/js/bootstrap-datetimepicker.min.js"
		type="text/javascript"></script>
	<script src="assets/lib/select2/js/select2.min.js"
		type="text/javascript"></script>
	<script src="assets/lib/bootstrap-slider/js/bootstrap-slider.js"
		type="text/javascript"></script>
	<script src="assets/js/app-form-elements.js" type="text/javascript"></script>
	<script src="assets/lib/parsley/parsley.min.js" type="text/javascript"></script>
	<script type="text/javascript">
      $(document).ready(function(){
      	//initialize the javascript
      	App.init();
      	App.formElements();
		$('form').parsley();
		$("#addStock").submit(function(e) {
			$('#success-message').html('');
			var form = $(this);
			var url = form.attr('action');
			$.ajax({
				   type: "POST",
				   url: "http://localhost:6607/stock",
				   dataType : 'json',
				   data: form.serialize(), // serializes the form's elements.
				   statusCode: {
						201: function() {
							console.log("HERE");
							$("#addStock").trigger("reset");
							$('#success-message').html('<div role="alert" class="alert alert-success alert-dismissible"><button type="button" data-dismiss="alert" aria-label="Close" class="close"><span aria-hidden="true" class="mdi mdi-close"></span></button><span class="icon mdi mdi-check"></span>Stock added successfully...</div>');
						},
						500: function() {
							$('#success-message').html('<div role="alert" class="alert alert-danger alert-dismissible"><button type="button" data-dismiss="alert" aria-label="Close" class="close"><span aria-hidden="true" class="mdi mdi-close"></span></button><span class="icon mdi mdi-check"></span>Unable to add stock...</div>');
						},
					}
				 });

			e.preventDefault(); // avoid to execute the actual submit of the form.
		});
		$.ajax({
				   type: "GET",
				   url: "http://localhost:6607/product",
				   dataType : 'json',
				   statusCode: {
						200: function(response) {
							console.log(response);
							var html = '';
							for(var count = 0;count < response.length; count++){
								html += '<option value="'+response[count].productCode+'">'+response[count].name+'</option>';
							}
							$("#addProduct").html(html);
						}
					}
		});
		$.ajax({
				   type: "GET",
				   url: "http://localhost:6607/vendor",
				   dataType : 'json',
				   statusCode: {
						200: function(response) {
							console.log(response);
							var html = '';
							for(var count = 0;count < response.length; count++){
								html += '<option value="'+response[count].mobileNumber+'">'+response[count].vendorName+'</option>';
							}
							$("#addVendor").html(html);
						}
					}
		});		
      });
    </script>
</body>
</html>